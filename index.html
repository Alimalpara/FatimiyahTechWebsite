<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fatimiyah Tech - Building Technology for the Ummah</title>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Poppins:wght@500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header class="site-header">
        <div class="container nav-container">
            <a href="#home" class="logo-link">
                <img src="images/logo1.png" alt="Fatimiyah Tech Logo" class="logo-img">
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#projects">Projects</a></li>
                    <li><a href="#involved">Get Involved</a></li>
                    <li><a href="#faq">FAQs</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="home" class="hero">
            <div class="hero-overlay"></div>
            <div class="container hero-content text-center">
                <h1 class="hero-title">Building Technology to Prepare for Imam al-Mahdi's (a.t.f.s.) Zuhur</h1>
                <p class="lead">Harnessing AI, Automation & Digital Innovation for the Ummah</p>
                <div class="cta-buttons">
                    <a href="#involved" class="btn btn-primary btn-lg">Get Involved</a>
                    <a href="#projects" class="btn btn-secondary btn-lg">Explore Projects</a>
                </div>
            </div>
        </section>

        <section id="about" class="about-urgency section-padding">
            <div class="container">
                <h2 class="section-title">A World in Waiting ‚Äì The Urgency of Our Time</h2>
                <p>The world is advancing rapidly in AI and digital transformation, but the Ummah is being left behind.
                    We cannot afford to wait. The responsibility is on us to build, innovate, and lead in technology
                    that serves Islam and the mission of Imam al-Mahdi (a.t.f.s.).</p>
                <p><strong>Fatimiyah Tech is more than a tech company‚Äîit's a movement.</strong> We are dedicated to
                    developing AI-driven Islamic apps, automation tools, animations, and education platforms to empower
                    the Ummah and prepare for the Zuhur.</p>

                <div class="ghaybah-timer-section">
                    <h3 class="subsection-title text-center">Time Since the Ghaybah Began:</h3>
                    <div class="timer-container">
                        <ul class="time-list">
                            <li>üïã <strong>Total Hijri Years:</strong> <span id="totalHijriYears">...</span> </li>
                            <li>üåô <strong>Total Hijri Months:</strong> <span id="totalHijriMonths">...</span>
                            </li>
                            <li>üìÖ <strong>Total Days (Hijri):</strong> <span id="totalHijriDays">...</span> </li>
                            <li>‚è∞ <strong>Total Hours:</strong> <span id="totalHours">...</span> </li>
                            <li>‚è≥ <strong>Total Seconds:</strong> <span id="totalSeconds">...</span></li>
                        </ul>
                    </div>
                </div>
                <p class="highlight text-center" style="margin-top: 2rem;">This live count underscores that every second
                    matters. It's time to contribute to a future driven by Islamic technology.</p>
                <div class="text-center" style="margin-top: 2rem;">
                    <a href="#involved" class="btn btn-primary">Take Action Today!</a>
                </div>
            </div>
        </section>

        <section class="mission section-padding bg-light">
            <div class="container">
                <h2 class="section-title">Building Technology to Prepare for the Zuhur</h2>
                <p>Fatimiyah Tech is a 24/7 technology-driven initiative dedicated to leveraging AI, automation, and
                    digital innovation to serve the Community.</p>
                <h3 class="subsection-title">Our Work Includes:</h3>
                <ul class="feature-list">
                    <li>AI-powered Islamic apps & automation tools: Making Islamic knowledge accessible in innovative
                        ways.</li>
                    <li>Building in-house tech solutions: Developing software & platforms to strengthen the Ummah.</li>
                    <li>Teaching & mentoring future Islamic tech leaders: Empowering the next generation.</li>
                    <li>Producing high-quality Islamic animations & digital content: Making learning fun for all ages.
                    </li>
                    <li>Creating a global network of tech professionals: Bringing the brightest minds together to serve
                        the cause.</li>
                </ul>
            </div>
        </section>

        <section id="projects" class="services section-padding">
            <div class="container">
                <h2 class="section-title">Our Services & Projects</h2>
                <div class="project-grid">
                    <div class="project-item card">
                        <h3 class="subsection-title">Mobile Apps</h3>
                        <p><strong>Al Asma ul Husna App</strong> - Learn the 99 Names of Allah (s.w.t.) interactively.
                        </p>
                        <a href="https://play.google.com/store/apps/details?id=com.fatimiyahtech.alasmaulhusna"
                            class="btn btn-secondary btn-small">Get the App</a>
                    </div>
                    <div class="project-item card">
                        <h3 class="subsection-title">Digital Content & Animation</h3>
                        <p><strong>Fatimiyah Animation Channel</strong> ‚Äì Engaging Islamic animations for all ages.</p>
                        <p>Follow: <a href="http://youtube.com/@fatimiyah_animations" class="text-link">Youtube</a>, <a
                                href="https://www.instagram.com/fatimiyah_animations" class="text-link">Instagram</a>
                        </p>
                    </div>
                    <div class="project-item card">
                        <h3 class="subsection-title">Digital Content</h3>
                        <p><strong>Masaib_org YouTube Channel</strong> - Masaib channel organized by Scholars and
                            events.</p>
                        <a href="https://youtube.com/@masaib_org?si=sYkA_pg7yqoLnFep" class="text-link">Watch Here</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="involved" class="get-involved section-padding bg-primary text-light text-center parallax">
            <div class="container">
                <h2 class="section-title">How You Can Get Involved</h2>
                <ul class="involved-list">
                    <li>Join Us: Be part of a movement shaping the future.</li>
                    <li>Support Us: Contribute your skills, time, or resources.</li>
                    <li>Stay Updated: Follow our journey and upcoming projects.</li>
                </ul>
                <p>Join us in building the future of Islamic technology!</p>
                <a href="#contact" class="btn btn-light">Get Involved Today</a>
            </div>
        </section>


        <section id="faq" class="faq section-padding">
            <div class="container">
                <h2 class="section-title">Frequently Asked Questions</h2>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>What is Fatimiyah Tech?</span>
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        <p>Fatimiyah Tech is a 24/7 in-house tech team creating apps, animations, and AI-driven tools to
                            serve Imam al-Mahdi (a.t.f.s.) and the Ummah.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Who can join Fatimiyah Tech?</span>
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        <p>Anyone passionate about technology, Islamic education, and AI can contribute, regardless of
                            experience level.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>How can I contribute?</span>
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        <ul>
                            <li><strong>Developers & Engineers:</strong> Build Islamic tech solutions.</li>
                            <li><strong>Animators & Designers:</strong> Create Islamic media.</li>
                            <li><strong>Educators & Researchers:</strong> Help structure Islamic learning tools.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="testimonials" class="testimonials section-padding bg-light">
            <div class="container">
                <h2 class="section-title">Testimonials / Early Reviews</h2>
                <div class="testimonial-grid">
                    <blockquote class="testimonial-item card">
                        <p>"Fatimiyah Tech is the first initiative truly preparing for Zuhur using AI & Tech."</p>
                        <footer>- Community Member</footer>
                    </blockquote>
                    <blockquote class="testimonial-item card">
                        <p>"I joined thinking I would learn, but now I am actually building for Islam!"</p>
                        <footer>- Student</footer>
                    </blockquote>
                    <blockquote class="testimonial-item card">
                        <p>"We need more movements like this‚Äîcombining faith & technology for the Ummah."</p>
                        <footer>- Tech Enthusiast</footer>
                    </blockquote>
                </div>
            </div>
        </section>

        <section id="contact" class="contact section-padding">
            <div class="container">
                <h2 class="section-title">Contact Us</h2>
                <div class="contact-content">
                    <div class="contact-text">
                        <p>Get in touch to learn more about our projects or how you can get involved in shaping the
                            future of Islamic technology.</p>
                    </div>
                    <div class="contact-info">
                        <div class="contact-info-item">
                            <span class="contact-icon">üìß</span>
                            <a href="mailto:contact@fatimiyahtech.org"
                                class="contact-link">contact@fatimiyahtech.org</a>
                        </div>
                        <div class="contact-info-item">
                            <span class="contact-icon">üìç</span>
                            <span>Based in Toronto, Canada</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container text-center">
            <p>&copy;
                <script>document.write(new Date().getFullYear())</script> Fatimiyah Tech. All rights reserved.
            </p>
        </div>
    </footer>

    <script>
        // FAQ Accordion Script
        const faqQuestions = document.querySelectorAll('.faq-question');
        faqQuestions.forEach(question => {
            question.addEventListener('click', () => {
                const answer = question.nextElementSibling;
                const icon = question.querySelector('.faq-icon');
                // const currentlyActive = question.classList.contains('active'); // Not needed if not closing others

                // Toggle current question
                question.classList.toggle('active');

                if (question.classList.contains('active')) {
                    answer.style.maxHeight = answer.scrollHeight + "px";
                    icon.textContent = '‚àí';
                } else {
                    answer.style.maxHeight = null;
                    icon.textContent = '+';
                }
            });
        });

        // GHAYBAH TIMER SCRIPT
        /************************************************************
         * 1) GET ACCURATE CURRENT HIJRI DATE FROM ALADHAN API
         ************************************************************/
        async function getCurrentHijriDate() {
            try {
                const today = new Date();
                const dd = String(today.getDate()).padStart(2, '0');
                const mm = String(today.getMonth() + 1).padStart(2, '0'); // Months are zero-based in JS
                const yyyy = today.getFullYear();
                // API endpoint requires MM-DD-YYYY format if date parameter is used.
                // However, the original script used DD-MM-YYYY. The API docs suggest date can be DD-MM-YYYY OR a timestamp.
                // Let's try with current Gregorian date as per API examples for direct conversion.
                // Correct API URL for converting *today's* date (date param is optional for today) or provide specific format
                // Using the specific date in DD-MM-YYYY is what the original script did, so we'll stick to its intention.
                const apiUrl = `https://api.aladhan.com/v1/gToH?date=${dd}-${mm}-${yyyy}`; // Original script's DD-MM-YYYY format

                const response = await fetch(apiUrl);
                if (!response.ok) { // Check if response was successful
                    throw new Error(`API request failed with status ${response.status}`);
                }
                const data = await response.json();

                if (data && data.code === 200 && data.data && data.data.hijri) { // AlAdhan API successful response code is 200
                    const { day, month, year } = data.data.hijri;
                    return {
                        day: parseInt(day, 10),
                        month: parseInt(month.number, 10),
                        year: parseInt(year, 10),
                    };
                } else {
                    console.error("Invalid data structure from AlAdhan API:", data);
                    throw new Error("Invalid data from AlAdhan API");
                }
            } catch (err) {
                console.error("Error fetching Hijri date:", err);
                // Display a user-friendly error message on the page
                document.getElementById("totalHijriYears").textContent = "Error";
                document.getElementById("totalHijriMonths").textContent = "N/A";
                document.getElementById("totalHijriDays").textContent = "N/A";
                document.getElementById("totalHours").textContent = "Calculating..."; // Gregorian can still work
                document.getElementById("totalSeconds").textContent = "Calculating...";
                return null; // Return null so the rest of the Hijri logic doesn't run with bad data
            }
        }

        /************************************************************
         * 2) CALCULATE HIJRI DIFFERENCE FROM 10 SHAWWAL 329 AH
         ************************************************************/
        function getHijriDifference(currentHijri) {
            const startYear = 329;
            const startMonth = 10; // Shawwal
            const startDay = 10;

            let yearsPassed = currentHijri.year - startYear;
            let monthsPassed = currentHijri.month - startMonth;
            let daysPassed = currentHijri.day - startDay;

            // Average days in a Hijri month (approx. 29.53)
            // For simplicity in borrowing, we can use 29 or 30.
            // The API might give varying month lengths, but this calculation is an approximation.
            // Using a fixed 30 for borrowing simplifies, but acknowledge it's an approximation.
            const approxDaysInHijriMonth = 29.53;


            if (daysPassed < 0) {
                monthsPassed -= 1;
                // More accurate borrowing of days would depend on the specific previous month's length.
                // For this timer, an approximation is used. Let's assume previous month had ~29.5 days.
                // AlAdhan API also returns `data.data.hijri.month.daysInMonth` for the *current* Hijri month
                // but we need it for the *previous* if borrowing.
                // For simplicity, adding 30 as a general average for borrowing.
                daysPassed += 30;
            }

            if (monthsPassed < 0) {
                yearsPassed -= 1;
                monthsPassed += 12;
            }

            // Calculate total Hijri months and days based on the *passed full years/months* and remaining days.
            // This provides a more direct sense of "X years, Y months, Z days have passed".
            // The "total" conversion to months/days can be less intuitive than a "Years, Months, Days" breakdown.
            // For the display, we will show passed years, total months (from start), and total days (from start)

            // Total Hijri Months passed since Ghaybah:
            const totalMonthsSinceGhaybah = (currentHijri.year - startYear) * 12 + (currentHijri.month - startMonth);

            // Approximate total days: This is a rough estimate as Hijri year length varies (354 or 355 days)
            // A more accurate day count would require summing days of all months passed.
            // The Gregorian calculation for hours/seconds is independent and more precise for that granularity.
            // Let's use average days: Hijri year ~354.36 days. Month ~29.53 days.
            const totalApproxHijriDays = (yearsPassed * 354.36) + (monthsPassed * 29.53) + daysPassed;

            return {
                years: yearsPassed, // Full years passed
                totalMonths: totalMonthsSinceGhaybah, // Total number of months elapsed since Ghaybah
                totalDays: Math.round(totalApproxHijriDays) // Approximate total days elapsed
            };
        }

        /************************************************************
         * 3) CALCULATE APPROX HOURS & SECONDS FROM GREGORIAN DIFF
         ************************************************************/
        // Ghaybah Start: 10 Shawwal 329 AH.
        // Approximate Gregorian date for 10 Shawwal 329 AH:
        // Using a converter, this is approximately January 26, 941 CE.
        // Note: The original script used July 29, 941 CE. This date may vary based on calculation methods.
        // For consistency with the original script's Gregorian part, we'll use its date.
        // However, for higher accuracy, this date should be meticulously verified.
        // Let's use: Tuesday, January 26, 941 CE (as per some online converters for 10 Shawwal 329 AH)
        // JavaScript months are 0-indexed, so January is 0.
        const ghaybahStartGregorian = new Date(941, 0, 26, 0, 0, 0); // Approx. Jan 26, 941 CE, 00:00:00

        function getGregorianDiff() {
            const now = new Date();
            const diffMs = now - ghaybahStartGregorian;

            const totalSeconds = Math.floor(diffMs / 1000);
            const totalHours = Math.floor(totalSeconds / 3600);
            // We can also calculate total Gregorian days if needed for display
            // const totalGregorianDays = Math.floor(totalHours / 24);

            return { hours: totalHours, seconds: totalSeconds };
        }

        /************************************************************
         * 4) MAIN LOGIC
         ************************************************************/
        async function initGhaybahTimer() {
            const currentHijri = await getCurrentHijriDate();

            if (currentHijri) { // Only proceed if Hijri date was successfully fetched
                const diffHijri = getHijriDifference(currentHijri);
                document.getElementById("totalHijriYears").textContent = diffHijri.years.toLocaleString();
                document.getElementById("totalHijriMonths").textContent = diffHijri.totalMonths.toLocaleString();
                document.getElementById("totalHijriDays").textContent = diffHijri.totalDays.toLocaleString();
            } else {
                // Error message already handled in getCurrentHijriDate, but ensure display is 'Error' or 'N/A'
                document.getElementById("totalHijriYears").textContent = "Error";
                document.getElementById("totalHijriMonths").textContent = "N/A";
                document.getElementById("totalHijriDays").textContent = "N/A";
            }

            function updateGregorianDiff() {
                const { hours, seconds } = getGregorianDiff();
                document.getElementById("totalHours").textContent = hours.toLocaleString();
                document.getElementById("totalSeconds").textContent = seconds.toLocaleString();
            }

            updateGregorianDiff(); // Initial call
            setInterval(updateGregorianDiff, 1000); // Update every second
        }

        // Start the timer
        initGhaybahTimer();

    </script>

</body>

</html>